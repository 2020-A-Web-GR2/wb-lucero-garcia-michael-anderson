<html>
<head>
    <style>
        .contenedor{
            text-align:center;
        }

        table {
            font-family: arial, sans-serif;
            border-collapse: separate;
            border-spacing: 5px;
            width: 100%;
        }

        td, th {
            border: 1px solid #dddddd;
            padding: 8px;
            text-align:center;
        }

        tr:nth-child(even) {
            background-color: #1E8449;
        }
    </style>
</head>
<body>
<div class = 'contenedor'>
    <% const userName = usuario %>
    <% if(userName !== undefined){ %>
        <h1>
            Comics
        </h1>
        <% if(mensaje !== undefined){ %>
        <p>Mensaje: <%=mensaje%></p>
        <%}%>


        <form action="/comic"
              method="get">
            <label for="busqueda">Buscar: </label>
            <input id="busqueda" type="text" name="busqueda">
            <button type="submit">Buscar</button>
        </form>
        <table>
            <tr>
                <th>Titulo</th>
                <th>Autor</th>
                <th>Precio</th>
                <th>categoria</th>
                <th>Numero de edicion</th>
                <th> ------ </th>
            </tr>
            <% arregloComics.forEach( (objeto)=>{ %>
                <tr>
                    <td><%= objeto.titulo %></td>
                    <td><%= objeto.autor %></td>
                    <td><%= objeto.precio %></td>
                    <td><%= objeto.categoria %></td>
                    <td><%= objeto.edicion %></td>
                    <td>
                        <a href="../comic/editar/<%= objeto.id %>">
                            <button>Editar</button>
                        </a>
                        <form action="../comic/eliminarDesdeVista/<%= objeto.id %>"
                              method="POST"
                        >
                            <button type="submit">Eliminar</button>
                        </form>
                    </td>
                </tr>
            <% } ) %>

        </table>

        <a href="/comic/crear">
            <button>Registrar Nuevo Comic</button>
        </a>

        <a href="../logout">
            <button>Cerrar sesion</button>
        </a>
    <% } else {%>
        <h1>primero, inicie sesion.</h1>
    <% } %>
</div>

</body>
</html>